{"title":"添加友链踩坑记录","uid":"d7143db213c9893f242cc9211977e79b","slug":"Add-links","date":"2022-05-02T19:11:54.000Z","updated":"2022-05-02T19:11:36.713Z","comments":true,"path":"api/articles/Add-links.json","keywords":null,"cover":null,"content":"<h2 id=\"新增links页面\"><a href=\"#新增links页面\" class=\"headerlink\" title=\"新增links页面\"></a>新增links页面</h2><pre class=\"line-numbers language-none\"><code class=\"language-none\">$ hexo new page links</code></pre>\n\n<h2 id=\"配置menu\"><a href=\"#配置menu\" class=\"headerlink\" title=\"配置menu\"></a>配置menu</h2><p>主题配置文件<code>_config.yml</code>中<code>menu</code>下添加：</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">links: &#x2F;links&#x2F; || fa fa-link</code></pre>\n\n<p><code>/themes/next/languages/zh-Hans.yml</code>文件中<code>menu</code>下增加中文描述：</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">links: 友链</code></pre>\n\n<p>做完这些工作，接下来就是要增加友链页面的样式了</p>\n<h2 id=\"新增links-swig页\"><a href=\"#新增links-swig页\" class=\"headerlink\" title=\"新增links.swig页\"></a>新增<code>links.swig</code>页</h2><p>在<code>/themes/next/layout/</code>新建<code>links.swig</code>，内容如下：</p>\n<pre class=\"line-numbers language-css\" data-language=\"css\"><code class=\"language-css\">&#123;% block content %&#125;\n  &#123;######################&#125;\n  &#123;### LINKS BLOCK ###&#125;\n  &#123;######################&#125;\n\n    &lt;div id&#x3D;&quot;links&quot;&gt;\n        &lt;style&gt;\n\n            #links&#123;\n               margin-top: 5rem;\n            &#125;\n\n            .links-content&#123;\n                margin-top:1rem;\n            &#125;\n\n            .link-navigation::after &#123;\n                content: &quot; &quot;;\n                display: block;\n                clear: both;\n            &#125;\n\n            .card &#123;\n                width: 300px;\n                font-size: 1rem;\n                padding: 10px 20px;\n                border-radius: 4px;\n                transition-duration: 0.15s;\n                margin-bottom: 1rem;\n                display:flex;\n            &#125;\n            .card:nth-child(odd) &#123;\n                float: left;\n            &#125;\n            .card:nth-child(even) &#123;\n                float: right;\n            &#125;\n            .card:hover &#123;\n                transform: scale(1.1);\n                box-shadow: 0 2px 6px 0 rgba(0, 0, 0, 0.12), 0 0 6px 0 rgba(0, 0, 0, 0.04);\n            &#125;\n            .card a &#123;\n                border:none;\n            &#125;\n            .card .ava &#123;\n                width: 3rem!important;\n                height: 3rem!important;\n                margin:0!important;\n                margin-right: 1em!important;\n                border-radius:4px;\n\n            &#125;\n            .card .card-header &#123;\n                font-style: italic;\n                overflow: hidden;\n                width: 236px;\n            &#125;\n            .card .card-header a &#123;\n                font-style: normal;\n                color: #2bbc8a;\n                font-weight: bold;\n                text-decoration: none;\n            &#125;\n            .card .card-header a:hover &#123;\n                color: #d480aa;\n                text-decoration: none;\n            &#125;\n            .card .card-header .info &#123;\n                font-style:normal;\n                color:#a3a3a3;\n                font-size:14px;\n                min-width: 0;\n                text-overflow: ellipsis;\n                overflow: hidden;\n                white-space: nowrap;\n            &#125;\n        &lt;&#x2F;style&gt;\n        &lt;div class&#x3D;&quot;links-content&quot;&gt;\n            &lt;div class&#x3D;&quot;link-navigation&quot;&gt;\n\n                &#123;% for link in theme.friendlinks %&#125;\n\n                    &lt;div class&#x3D;&quot;card&quot;&gt;\n                        &lt;img class&#x3D;&quot;ava&quot; src&#x3D;&quot;&#123;&#123; link.avatar &#125;&#125;&quot;&#x2F;&gt;\n                        &lt;div class&#x3D;&quot;card-header&quot;&gt;\n                        &lt;div&gt;&lt;a href&#x3D;&quot;&#123;&#123; link.site &#125;&#125;&quot; target&#x3D;&quot;_blank&quot;&gt;@ &#123;&#123; link.nickname &#125;&#125;&lt;&#x2F;a&gt;&lt;&#x2F;div&gt;\n                        &lt;div class&#x3D;&quot;info&quot;&gt;&#123;&#123; link.info &#125;&#125;&lt;&#x2F;div&gt;\n                        &lt;&#x2F;div&gt;\n                    &lt;&#x2F;div&gt;\n\n                &#123;% endfor %&#125;\n\n            &lt;&#x2F;div&gt;\n            &#123;&#123; page.content &#125;&#125;\n            &lt;&#x2F;div&gt;\n        &lt;&#x2F;div&gt;\n\n  &#123;##########################&#125;\n  &#123;### END LINKS BLOCK ###&#125;\n  &#123;##########################&#125;\n&#123;% endblock %&#125;</code></pre>\n\n<h2 id=\"修改page-swig\"><a href=\"#修改page-swig\" class=\"headerlink\" title=\"修改page.swig\"></a>修改page.swig</h2><p>修改<code>/themes/next/layout/page.swig</code>文件，在</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">&#123;%- elif page.type &#x3D;&#x3D;&#x3D; &#39;schedule&#39; and not page.title %&#125;\n    &#123;&#123;- __(&#39;title.schedule&#39;) + page_title_suffix &#125;&#125;</code></pre>\n\n<p>下面添加：</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">&#123;%- elif page.type &#x3D;&#x3D;&#x3D; &#39;links&#39; and not page.title %&#125;\n  &#123;&#123;- __(&#39;title.links&#39;) + page_title_suffix &#125;&#125;</code></pre>\n\n<h2 id=\"引入links-swig\"><a href=\"#引入links-swig\" class=\"headerlink\" title=\"引入links.swig\"></a>引入links.swig</h2><p>关键在于所有的教程中给了引入代码，但没有说具体在哪里插入</p>\n<p>在<code>/themes/next/layout/page.swig</code>中的</p>\n<pre class=\"line-numbers language-c++\" data-language=\"c++\"><code class=\"language-c++\">&#123;% elif page.type &#x3D;&#x3D;&#x3D; &#39;schedule&#39; %&#125;\n  &lt;div class&#x3D;&quot;event-list&quot;&gt;\n  &lt;&#x2F;div&gt;\n\n  &#123;% include &#39;_scripts&#x2F;pages&#x2F;schedule.swig&#39; %&#125;</code></pre>\n\n<p>插入</p>\n<pre class=\"line-numbers language-c++\" data-language=\"c++\"><code class=\"language-c++\">&#123;% elif page.type &#x3D;&#x3D;&#x3D; &#39;links&#39; %&#125;\n  &#123;% include &#39;links.swig&#39; %&#125;</code></pre>\n\n<p>得到</p>\n<pre class=\"line-numbers language-c++\" data-language=\"c++\"><code class=\"language-c++\">&#123;% elif page.type &#x3D;&#x3D;&#x3D; &#39;schedule&#39; %&#125;\n  &lt;div class&#x3D;&quot;event-list&quot;&gt;\n  &lt;&#x2F;div&gt;\n&#123;% elif page.type &#x3D;&#x3D;&#x3D; &#39;links&#39; %&#125;\n  &#123;% include &#39;links.swig&#39; %&#125;\n  &#123;% include &#39;_scripts&#x2F;pages&#x2F;schedule.swig&#39; %&#125;</code></pre>\n\n<h2 id=\"主题配置添加\"><a href=\"#主题配置添加\" class=\"headerlink\" title=\"主题配置添加\"></a>主题配置添加</h2><p>在主题配置文件<code>_config.yml</code>末尾处添加友链：</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">mylinks:\n  - nickname:  #友链名称\n    avatar:   #友链头像\n    site:   #友链地址\n    info:   #友链说明\n  - nickname:  #友链名称\n    avatar:   #友链头像\n    site:   #友链地址\n    info:   #友链说明</code></pre>\n","text":"新增links页面$ hexo new page links 配置menu主题配置文件_config.yml中menu下添加： links: &#x2F;links&#x2F; || fa fa-link /themes/next/languages/zh-Hans.yml文件中...","link":"","photos":[],"count_time":{"symbolsCount":"5.1k","symbolsTime":"5 mins."},"categories":[],"tags":[{"name":"hexo","slug":"hexo","count":5,"path":"api/tags/hexo.json"},{"name":"NexT","slug":"NexT","count":5,"path":"api/tags/NexT.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E6%96%B0%E5%A2%9Elinks%E9%A1%B5%E9%9D%A2\"><span class=\"toc-text\">新增links页面</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E9%85%8D%E7%BD%AEmenu\"><span class=\"toc-text\">配置menu</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E6%96%B0%E5%A2%9Elinks-swig%E9%A1%B5\"><span class=\"toc-text\">新增links.swig页</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E4%BF%AE%E6%94%B9page-swig\"><span class=\"toc-text\">修改page.swig</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%BC%95%E5%85%A5links-swig\"><span class=\"toc-text\">引入links.swig</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E4%B8%BB%E9%A2%98%E9%85%8D%E7%BD%AE%E6%B7%BB%E5%8A%A0\"><span class=\"toc-text\">主题配置添加</span></a></li></ol>","author":{"name":"ACbug战队","slug":"blog-author","avatar":"https://img1.i-nmb.cn/ava.png","link":"/","description":"西北民族大学数学与计算机科学学院<br>系统与软件工作室网络安全组","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"prev_post":{"title":"在NexT的侧边栏添加近期文章板块","uid":"c5b29c51d4e2d58a38adb96d31b1d4ab","slug":"Recent-articles","date":"2022-05-03T02:33:52.000Z","updated":"2022-05-03T10:03:16.032Z","comments":true,"path":"api/articles/Recent-articles.json","keywords":null,"cover":[],"text":"最近听说内链可以改善SEO，于是乎，我想在NexT的侧边栏添加近期文章板块 在网络上查找的方案大致如下 第一种方法&#123;% if theme.recent_posts %&#125; &lt;div class&#x3D;&quot;links-of-blogroll mo...","link":"","photos":[],"count_time":{"symbolsCount":"3.8k","symbolsTime":"3 mins."},"categories":[],"tags":[{"name":"hexo","slug":"hexo","count":5,"path":"api/tags/hexo.json"},{"name":"NexT","slug":"NexT","count":5,"path":"api/tags/NexT.json"}],"author":{"name":"ACbug战队","slug":"blog-author","avatar":"https://img1.i-nmb.cn/ava.png","link":"/","description":"西北民族大学数学与计算机科学学院<br>系统与软件工作室网络安全组","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}},"next_post":{"title":"信息安全保障概述","uid":"29dc150f2713e4a77f5b3367a0e5cd4a","slug":"Overview-of-information-security","date":"2022-04-30T11:57:49.000Z","updated":"2022-05-01T04:01:32.212Z","comments":true,"path":"api/articles/Overview-of-information-security.json","keywords":null,"cover":[],"text":"本章概述了信息安全保障的相关内容。“信息安全保障背景”部分介绍了信息技术发展的各个阶段及其对社会产生的影响；“信息安全保障基础”部分讲述了信息安全发展阶段以及信息安全的含义、问题根源及其在社会中的地位和作用；“信息安全保障体系”部分讲解了信息安全保障基本体系框架，并详细阐述了典型...","link":"","photos":[],"count_time":{"symbolsCount":"3.2k","symbolsTime":"3 mins."},"categories":[],"tags":[{"name":"信息安全技术","slug":"信息安全技术","count":2,"path":"api/tags/信息安全技术.json"},{"name":"计算机三级","slug":"计算机三级","count":2,"path":"api/tags/计算机三级.json"}],"author":{"name":"ACbug战队","slug":"blog-author","avatar":"https://img1.i-nmb.cn/ava.png","link":"/","description":"西北民族大学数学与计算机科学学院<br>系统与软件工作室网络安全组","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}}}